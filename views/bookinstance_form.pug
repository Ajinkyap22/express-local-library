extends layout 

block content 
  h1= title

  form(method='post' action="")
    div.form-group 
      label(for="book" class="pt-2 font-weight-bold") Book : 
      select#book.form-control(type="select" placeholder="Select Book" name="book" required=true)
        - book_list.sort((a, b) => { let textA = a.title.toUpperCase(); let textB = b.title.toUpperCase(); return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;})
        for book in book_list 
          option(value=book._id selected=(selected_book == book._id.toString() ? 'selected' : false)) #{book.title}
          
    div.form-group 
      label(for="imprint" class="pt-2 font-weight-bold") Imprint : 
      input#imprint.form-control(type="text" placeholder="Publisher and date information" name="imprint" required=true value=(undefined === bookinstance ? '' : bookinstance.imprint)) 
    
    div.form-group 
       label(for="due_back" class="pt-2 font-weight-bold") Due when book available : 
       input#due_back.form-control(type="date" name="due_back" required=true value=(undefined === bookinstance ? '' : bookinstance.due_back_original))
    
    div.form-group
      label(for="status" class="pt-2 font-weight-bold") Status : 
      select#status.form-control(type='select' placeholder='Select status' name="status" required=true)
        option(value='Maintenance' selected=(undefined === bookinstance || bookinstance.status!== 'Maintenance' ? false : 'selected')) Maintenance   
        option(value='Available' selected=(undefined === bookinstance || bookinstance.status!== 'Available' ? false : 'selected')) Available   
        option(value='Loaned' selected=(undefined === bookinstance || bookinstance.status!== 'Loaned' ? false : 'selected')) Loaned   
        option(value='Reserved' selected=(undefined === bookinstance || bookinstance.status!== 'Reserved' ? false : 'selected')) Reserved   

    button.btn.btn-primary(type='submit') Submit 

  if errors 
    ul(class="py-3 text-danger") 
      each err in errors 
        li!= err.msg 